var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(e,n,a)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[n]=a,l=(t,l)=>{for(var i in l||(l={}))n.call(l,i)&&s(t,i,l[i]);if(e)for(var i of e(l))a.call(l,i)&&s(t,i,l[i]);return t};import{x as i,_ as c,a as o,b as r,u as d,V as m}from"./vendor.3a5dde70.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const n of t)if("childList"===n.type)for(const t of n.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerpolicy&&(e.referrerPolicy=t.referrerpolicy),"use-credentials"===t.crossorigin?e.credentials="include":"anonymous"===t.crossorigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();const u={"山川":[[{name:"踏云",type:"talent",icon:22,max:1,desc:["踏云稻香溪涧。"]},{name:"蹑云",type:"talent",icon:1490,max:1,desc:["蹑云逐月摘星。"]},{name:"扶摇",type:"talent",icon:1485,max:4,desc:["扶摇直上九霄。"]},{name:"萍踪",type:"talent",icon:622,max:4,desc:["萍踪林间侠影。"]}],[{name:"花海",type:"talent",icon:13417,max:1,desc:["走过晴昼海的花海。"]},{name:"望月",type:"talent",icon:3138,max:1,desc:["扶摇跳上摘星楼顶。"]},{name:"雪松",type:"talent",icon:628,max:1,desc:["躺过论剑峰的石头。"]},{name:"苍穹",type:"talent",icon:4173,max:1,desc:["站在光明顶的最高处。"]}],[{name:"占卜",type:"talent",icon:2296,max:1,desc:["稻香村完成算卦。"]},{name:"赶尸",type:"talent",icon:109,max:1,desc:["洛道的回忆。"]},{name:"东瀛",type:"talent",icon:489,max:2,desc:["珍藏的真丝肚兜与春宫图册。"]},null],[{name:"小女儿",type:"talent",icon:2789,max:2,desc:["不爱华服爱裙装。"]},{name:"暮春寒",type:"talent",icon:3089,max:2,desc:["四月里，思念你。"]},{name:"团绒戏",type:"talent",icon:14823,max:2,desc:["万家灯火，照亮你我。"]},{name:"踏雪",type:"talent",icon:276,max:2,desc:["鹿震专座。"]}],[{name:"师恩",type:"talent",icon:2181,max:3,desc:["拜一名师傅。"]},{name:"桃李",type:"talent",icon:2182,max:3,desc:["收一名徒弟。"]},{name:"江湖",type:"talent",icon:1241,max:2,desc:["加入一个帮会或团队。"]},null],[null,{name:"采萝莉的小蘑菇",type:"skill",icon:2178,max:1,desc:["我的很大，你忍一下！"],pretab:1},{name:"情缘缘",type:"skill",icon:670,max:1,desc:["找到一名情缘。"]},{name:"寡王",type:"skill",icon:433,max:1,desc:["正道的光，母胎solo！"]}]],"日月":[[{name:"大战",type:"talent",icon:812,max:5,desc:["霸王弩，大战随便来四等一！"]},null,null,{name:"南屏昆仑",type:"talent",icon:8313,max:5,desc:["完成威望日常。"]}],[{name:"迦兰",type:"talent",icon:2103,max:2,desc:["腿毛的诱惑。"]},{name:"莲华",type:"talent",icon:336,max:2,desc:["婉清……你听我说。"]},{name:"云湖",type:"talent",icon:9,max:2,desc:["参与战场或插旗。"]},{name:"烟影",type:"talent",icon:2375,max:2,desc:["参与一次千人攻防。"],pretab:1}],[{name:"屌丝",type:"talent",icon:8848,max:1,desc:["我是一只快乐的小屌丝。"]},{name:"打工仔",type:"talent",icon:10452,max:2,desc:["我是一只快乐的打工仔。"]},{name:"高级打工仔",type:"talent",icon:10451,max:3,desc:["我是一只高级的打工仔。"]},{name:"壕",type:"talent",icon:2589,max:4,desc:["拥有一把橙武。"]}],[{name:"打桩机",type:"talent",icon:5352,max:5,desc:["成为一名地痞艾斯。"]},{name:"打地鼠",type:"talent",icon:1498,max:2,desc:["成为一名奶妈。"]},{name:"我是MT",type:"talent",icon:646,max:2,desc:["成为一名坦克。"]},{name:"全职高手",type:"talent",icon:415,max:5,desc:["精通全职业，成为骨灰玩家。"]}],[{name:"墨艺",type:"talent",icon:243,max:4,desc:["在魔盒发表一篇作品。"],pretab:1},{name:"茶艺",type:"talent",icon:105,max:9,desc:["学习嘤嘤嘤的正确喊话方式。"],pretab:1},{name:"号令三军",type:"skill",icon:2588,max:1,desc:["成为一名团长或指挥。"],pretab:1},{name:"喷艺",type:"talent",icon:1488,max:9,desc:["在贴吧发表一篇818。"]}],[{name:"宗师",type:"skill",icon:3120,max:1,desc:["精通墨艺，成为门派大师兄或门派大师姐。"],pretab:1},{name:"倾国倾城",type:"talent",icon:6738,max:1,desc:["成为一名团长夫人。"],pretab:1},null,{name:"谁与争锋",type:"skill",icon:272,max:1,desc:["成为一名优秀的键盘侠。"],pretab:1}]]},p=33,_=26;function f(t,e,n,a,s,l,i,c){var o,r="function"==typeof t?t.options:t;if(e&&(r.render=e,r.staticRenderFns=n,r._compiled=!0),a&&(r.functional=!0),l&&(r._scopeId="data-v-"+l),i?(o=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},r._ssrRegister=o):s&&(o=c?function(){s.call(this,(r.functional?this.parent:this).$root.$options.shadowRoot)}:s),o)if(r.functional){r._injectStyles=o;var d=r.render;r.render=function(t,e){return o.call(e),d(t,e)}}else{var m=r.beforeCreate;r.beforeCreate=m?[].concat(m,o):[o]}return{exports:t,options:r}}const h={};var C=f({name:"RenderTalent2",props:{talentCode:{type:String,default:""}},data:()=>({xf:"",begin:"",l_name:"斩绝",r_name:"封魂",version:"",talents:[],xfmap:i,total:33,l_data:["0000","0000","0000","0000","0000","0000"],r_data:["0000","0000","0000","0000","0000","0000"],series_open_need:26,xfContent:[],talentContent:{left:[],right:[]},parseCode:{}}),computed:{lCount:function(){return this.l_data.length?this.l_data.map((t=>t.split(""))).flat().reduce(((t,e)=>Number(t)+Number(e))):0},rCount:function(){return this.r_data.length?this.r_data.map((t=>t.split(""))).flat().reduce(((t,e)=>Number(t)+Number(e))):0},totalCount:function(){return this.lCount+this.rCount},surplus:function(){return this.total-this.totalCount}},methods:{async renderTalents(){try{console.log(this.talentCode),this.parseCode=JSON.parse(this.talentCode),this.version=this.parseCode.version,await this.getTalents()}catch(t){this.$message.error("编码格式错误")}},canOperate:function(t,e){return"left"===e?this.lCount>=5*t:this.rCount>=5*t},isLeftParentAdd:function(t,e){return Number(this.l_data[t-1][e])},canLeftItemOperate:function(t,e){let n=!1;return"left"===this.begin?t?this.lCount>0&&this.lCount>=5*t&&(n=!0):n=!0:"right"===this.begin&&this.rCount>=this.series_open_need&&this.lCount>=0&&this.lCount>=5*t&&(n=!0),n},isRightParentAdd:function(t,e){return Number(this.r_data[t-1][e])},canRightItemOperate:function(t,e){let n=!1;return"right"===this.begin?t?this.rCount>0&&this.rCount>=5*t&&(n=!0):n=!0:"left"===this.begin&&this.lCount>=this.series_open_need&&this.rCount>=0&&this.rCount>=5*t&&(n=!0),n},talentBg:function(t,e){if(t)return"left"===t?c+`image/talent/${this.xfContent[0]}_${e}.png`:c+`image/talent/${this.xfContent[1]}_${e}.png`},async getTalents(){fetch(o+"data/talent2/"+this.version+".json").then((t=>t.json())).then((t=>{var e,n,a,s,i,c;this.talents=l(l({},t),u),this.xf=this.parseCode.xf;const o=this.xf;this.xfContent=null==(e=r[o])?void 0:e.content,this.begin=null==(n=r[o])?void 0:n.begin;const d=this.parseCode.sq.split(",");"left"===this.begin?(this.l_data=d.slice(0,6),this.r_data=d.slice(6,d.length)):"right"===this.begin&&(this.r_data=d.slice(0,6),this.l_data=d.slice(6,d.length)),this.talentContent.left=null==(a=this.talents[r[o].talent[0]])?void 0:a.map((t=>t.map((t=>(t&&this.$set(t,"on",!1),t))))),this.l_name=null==(s=r[o])?void 0:s.talent[0],this.talentContent.right=null==(i=this.talents[r[o].talent[1]])?void 0:i.map((t=>t.map((t=>(t&&this.$set(t,"on",!1),t))))),this.r_name=null==(c=r[o])?void 0:c.talent[1],this.total="通用"===o?66:p,this.series_open_need=_}))}},filters:{xficon:function(t){return c+"image/xf/"+t+".png"},talentIcon:function(t){return d.iconLink(t)}},watch:{talentCode:{handler(t){t&&this.renderTalents()},immediate:!0}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"c-talent2-box c-talent2-render-box"},[t._m(0),t.xf?[n("div",{staticClass:"c-talent2-main"},[n("div",{staticClass:"c-talent2-left"},[n("div",{staticClass:"c-talent2-content",style:{"background-image":t.xf?"url("+t.talentBg("left",1)+")":""}},[n("div",{staticClass:"c-talent2-group"},[n("img",{staticClass:"c-talent2-group-icon",attrs:{src:t._f("xficon")(t.xfContent[0])}}),n("span",{staticClass:"c-talent2-group-count"},[t._v(t._s(t.lCount))]),n("span",{staticClass:"c-talent2-group-name"},[t._v(t._s(t.l_name))])]),t._l(t.talentContent.left,(function(e,a){return n("div",{key:"l"+a,staticClass:"c-talent2-content-row"},[t._l(e,(function(e,s){return[e?n("div",{key:s,staticClass:"c-talent2-content-item",class:[{"c-talent2-content-item-skill":"skill"===e.type},t.canOperate(a,"left")?"":"c-talent2-content-item-disabled",e.pretab?"c-talent2-pretab":""],on:{mouseover:function(n){return t.$set(e,"on",!0)},mouseleave:function(n){return t.$set(e,"on",!1)}}},[n("div",{class:[t.canLeftItemOperate(a,s)?"c-talent2-selected":"skill"===e.type?"c-talent2-skill-unselected":"c-talent2-unselected","skill"===e.type?"":"c-talent2-talent",t.surplus||Number(t.l_data[a][s])?"":"m-talent2-unselected"]},[e.pretab&&!t.isLeftParentAdd(a,s)?n("span",{class:"skill"===e.type?"is-add-skill":"is-add"}):t._e(),n("span",{class:t.surplus||Number(t.l_data[a][s])?"":"talent"===e.type?"is-add":"is-add-skill"}),n("img",{staticClass:"talent-img",class:{"skill-img":"skill"===e.type},attrs:{src:t._f("talentIcon")(e.icon),alt:e.name}})]),n("span",{staticClass:"c-talent2-pop",class:e.on?"on":""},[n("b",{staticClass:"c-talent2-name"},[n("span",[t._v(t._s(e.name))]),n("span",{staticClass:"c-talent2-number"},[t._v(" 第"+t._s(Number(t.l_data[a][s])+"/"+e.max)+"重 ")])]),n("span",{staticClass:"c-talent2-desc"},[t._v(" "+t._s(Number(t.l_data[a][s])&&"通用"!==t.xf?e.desc[t.l_data[a][s]-1]:e.desc[0])+" ")]),Number(t.l_data[a][s])&&Number(t.l_data[a][s])<e.max?n("span",{staticClass:"c-talent2-desc-next"},["通用"!==t.xf?n("span",{staticClass:"c-next-text"},[t._v("下一重：")]):t._e(),n("span",[t._v(" "+t._s(e.desc[t.l_data[a][s]])+" ")])]):t._e(),Number(t.l_data[a][s])===e.max?n("span",{staticClass:"c-talent2-pop-max"},[t._v("该招式已练至最高境界")]):t._e()]),Number(t.l_data[a][s])?n("span",{staticClass:"c-talent2-content-item-count"},[t._v(t._s(t.l_data[a][s]))]):t._e()]):n("div",{key:s+"empty",staticClass:"c-talent2-content-item-empty"})]}))],2)}))],2)]),n("div",{staticClass:"c-talent2-right"},[n("div",{staticClass:"c-talent2-content",style:{"background-image":t.xf?"url("+t.talentBg("right",1)+")":""}},[n("div",{staticClass:"c-talent2-group"},[n("img",{staticClass:"c-talent2-group-icon",attrs:{src:t._f("xficon")(t.xfContent[1])}}),n("span",{staticClass:"c-talent2-group-count"},[t._v(t._s(t.rCount))]),n("span",{staticClass:"c-talent2-group-name"},[t._v(t._s(t.r_name))])]),t._l(t.talentContent.right,(function(e,a){return n("div",{key:"l"+a,staticClass:"c-talent2-content-row"},[t._l(e,(function(e,s){return[e?n("div",{key:s,staticClass:"c-talent2-content-item",class:[{"c-talent2-content-item-skill":"skill"===e.type},t.canOperate(a,"right")?"":"c-talent2-content-item-disabled",e.pretab?"c-talent2-pretab":""],on:{mouseover:function(n){return t.$set(e,"on",!0)},mouseleave:function(n){return t.$set(e,"on",!1)}}},[n("div",{class:[t.canRightItemOperate(a,s)?"c-talent2-selected":"skill"===e.type?"c-talent2-skill-unselected":"c-talent2-unselected","skill"===e.type?"":"c-talent2-talent",t.surplus||Number(t.r_data[a][s])?"":"m-talent2-unselected"]},[e.pretab&&!t.isLeftParentAdd(a,s)?n("span",{class:"skill"===e.type?"is-add-skill":"is-add"}):t._e(),n("span",{class:t.surplus||Number(t.r_data[a][s])?"":"talent"===e.type?"is-add":"is-add-skill"}),n("img",{staticClass:"talent-img",class:{"skill-img":"skill"===e.type},attrs:{src:t._f("talentIcon")(e.icon),alt:e.name}})]),n("span",{staticClass:"c-talent2-pop",class:e.on?"on":""},[n("b",{staticClass:"c-talent2-name"},[n("span",[t._v(t._s(e.name))]),n("span",{staticClass:"c-talent2-number"},[t._v(" 第"+t._s(Number(t.r_data[a][s])+"/"+e.max)+"重 ")])]),n("span",{staticClass:"c-talent2-desc"},[t._v(" "+t._s(Number(t.r_data[a][s])&&"通用"!==t.xf?e.desc[t.r_data[a][s]-1]:e.desc[0])+" ")]),Number(t.r_data[a][s])&&Number(t.r_data[a][s])<e.max?n("span",{staticClass:"c-talent2-desc-next"},["通用"!==t.xf?n("span",{staticClass:"c-next-text"},[t._v("下一重：")]):t._e(),n("span",[t._v(" "+t._s(e.desc[t.r_data[a][s]])+" ")])]):t._e(),Number(t.r_data[a][s])===e.max?n("span",{staticClass:"c-talent2-pop-max"},[t._v("该招式已练至最高境界")]):t._e()]),Number(t.r_data[a][s])?n("span",{staticClass:"c-talent2-content-item-count"},[t._v(t._s(t.r_data[a][s])+" ")]):t._e()]):n("div",{key:s+"empty",staticClass:"c-talent2-content-item-empty"})]}))],2)}))],2)])])]:t._e(),t._m(1)],2)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"c-talent2-header"},[n("h3",{staticClass:"c-talent2-title"},[t._v("镇派模拟器")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"c-talent2-footer"},[n("a",{attrs:{href:"https://www.jx3box.com/app/talent2",target:"_blank"}},[t._v("JX3BOX Talent2 v1.0")])])}],!1,x,null,null,null);function x(t){for(let e in h)this[e]=h[e]}const y={};var g=f({name:"Talent2Plugin",data:()=>({code:""}),methods:{decodeCode:function(t){return decodeURIComponent(escape(window.atob(t)))},init:function(){const t=new RegExp(/code=(.*)/g),e=document.location.href.match(t),n=e&&e.join("").slice(5);this.code=this.decodeCode(n)}},created:function(){this.init()},components:{renderTalent:function(){return C.exports}()}},(function(){var t=this,e=t.$createElement;return(t._self._c||e)("render-talent",{attrs:{"talent-code":t.code}})}),[],!1,v,null,null,null);function v(t){for(let e in y)this[e]=y[e]}const b={};var k=f({name:"App",components:{Talent2Plugin:function(){return g.exports}()}},(function(){var t=this.$createElement;return(this._self._c||t)("Talent2Plugin")}),[],!1,N,null,null,null);function N(t){for(let e in b)this[e]=b[e]}var $=function(){return k.exports}();m.config.productionTip=!1,new m({render:t=>t($)}).$mount("#app");
